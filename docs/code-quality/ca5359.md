---
title: "CA5359: Do Not Disable Certificate Validation"
description: Provides information about code analysis rule CA5359, including causes, how to fix violations, and when to suppress it.
ms.date: 05/07/2020
ms.topic: reference
author: LLLXXXCCC
ms.author: linche
manager: jillfra
ms.workload:
  - "multiple"
f1_keywords:
  - "CA5359"
---
# CA5359: Do Not Disable Certificate Validation

|||
|-|-|
|CheckId|CA5359|
|Category|Microsoft.Security|
|Breaking change|Non-breaking|

## Cause

The callback assigned to <xref:System.Net.ServicePointManager.ServerCertificateValidationCallback?displayProperty=nameWithType> is forced to always returns 'true'.

## Rule description

A certificate can help authenticate the identity of the server. Clients should validate the server certificate to ensure requests are sent to the intended server. If the ServerCertificateValidationCallback always returns 'true', any certificate will pass validation.

## How to fix violations

When doing custom validation, make sure return false if the server certificate is not expected.

## When to suppress warnings

It's safe to suppress a warning from this rule if:
- Multiple delegates is attached to <xref:System.Net.ServicePointManager.ServerCertificateValidationCallback>, only the value from the last delegate is respected, so it's OK to suppress warning from the other delegates. 
- The server is trusted or there's no need to validate the identity of the server. For instance, it's a local server.

## Pseudo-code examples

### Violation

```csharp
using System.Net;

class ExampleClass
{
    public void ExampleMethod()
    {
        ServicePointManager.ServerCertificateValidationCallback += (sender, cert, chain, error) => { return true; };
    }
}
```

### Solution

```csharp
using System.Net;

class ExampleClass
{
    public void ExampleMethod()
    {
        ServicePointManager.ServerCertificateValidationCallback += (sender, cert, chain, error) => { return cert.Issuer == "a valid issuer"};
    }
}
```
